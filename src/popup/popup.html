<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=640, initial-scale=1.0" />
  <title>Story Studio</title>
  <link rel="stylesheet" href="popup.css" />
</head>

<body>
  <!-- ===========================
       🌟 Home Screen (Story Studio)
  ============================ -->
  <div id="home-screen" class="home">
    <div class="home-card">
      
      <!-- Header Section -->
      <div class="home-header">
        <h1 class="home-title">✨ Welcome to Story Studio</h1>
        <p class="home-subtitle">Your creative companion for stories.</p>
      </div>

      <!-- Feature Section -->
      <div class="feature-list">
        <button id="open-analytics" class="feature-card teal">
          <div class="icon">📊</div>
          <div class="text">
            <div class="title">Story Analytics</div>
            <div class="desc">Understand your story stats.</div>
          </div>
        </button>

        <button id="open-storyteller" class="feature-card blue">
          <div class="icon">🎧</div>
          <div class="text">
            <div class="title">StoryTeller</div>
            <div class="desc">Hear your story come alive.</div>
          </div>
        </button>

        <button id="open-storyplot" class="feature-card purple">
          <div class="icon">🎨</div>
          <div class="text">
            <div class="title">StoryPlot AI</div>
            <div class="desc">Visualize your characters.</div>
          </div>
        </button>
      </div>

      <!-- Privacy Section -->
      <div class="privacy-note">
        🔒 Your data stays local — Story Studio never uploads or stores your story content.
      </div>

      <!-- Footer -->
      <div class="footer-row">
        <button id="settings-btn" class="footer-btn">⚙️ Settings</button>
        <button id="feedback-btn-home" class="footer-btn">💬 Feedback</button>
      </div>

    </div>
  </div>

  <!-- ===========================
       📊 Analytics Dashboard
  ============================ -->
  <div id="analytics-ui" style="display:none;">
    <div class="analytics-header">
      <button id="back-to-home" class="back-btn">← Back</button>
      <h2 class="analytics-title">📊 Story Analytics</h2>
    </div>

    <div id="export-area">
      <div class="header">
        <div>
          <h1 id="title" class="story-title">Story Title</h1>
          <p id="author" class="story-author">by Unknown Author</p>
        </div>
      </div>

      <section class="stats-grid">
        <div class="stat-card"><div class="stat-number" id="reads">—</div><div class="stat-label">Reads</div></div>
        <div class="stat-card"><div class="stat-number" id="votes">—</div><div class="stat-label">Votes</div></div>
        <div class="stat-card"><div class="stat-number" id="headerComments">—</div><div class="stat-label">Comments</div></div>
        <div class="stat-card"><div class="stat-number" id="commentItemsCount">—</div><div class="stat-label">Paragraphs</div></div>
        <div class="stat-card"><div class="stat-number" id="engagementRate">—</div><div class="stat-label">Engagement Rate</div></div>
        <div class="stat-card"><div class="stat-number" id="commentRatio">—</div><div class="stat-label">Comment Ratio</div></div>
      </section>

      <div class="section-title">✨ Top Moments</div>
      <ul id="topHitsList" class="top-hits-list"></ul>
    </div>

    <div class="section-title" style="margin-top:14px;">📚 All Paragraphs</div>
    <div id="paragraphsList" class="paragraphs-list"></div>

    <div class="action-buttons">
      <button id="export-btn" class="btn gradient-btn">⬇ Export</button>
      <button id="refresh-btn" class="btn outline-btn">🔄 Refresh</button>
    </div>

    <div id="status" class="status" aria-live="polite">🔄 Loading analytics...</div>

    <div class="feedback-section">
      <p class="feedback-text">💡 Got feedback or ideas? Help us improve!</p>
      <button id="feedback-btn-bottom" class="btn outline-btn">Send Feedback</button>
    </div>
  </div>

  <script type="module" src="popup.js"></script>
</body>
</html>
